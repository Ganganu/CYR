<Window
  x:Class="CYR.MainWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:cc="clr-namespace:CYR.CustomControls"
  xmlns:controls="clr-namespace:EasyControls.Controls;assembly=EasyControls"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:CYR"
  xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:vm="clr-namespace:CYR.ViewModel"
  Title="CYR"
  Width="1500"
  Height="850"
  d:DataContext="{d:DesignInstance Type=vm:MainViewModel,
                                   IsDesignTimeCreatable=False}"
  Loaded="Window_Loaded"
  WindowState="Maximized"
  mc:Ignorable="d">
  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="4*" />
    </Grid.ColumnDefinitions>
    <Grid Grid.Column="1">
      <ContentPresenter Content="{Binding Navigation.CurrentView}" />
      <controls:Snackbar
        x:Name="snackbarButton"
        MinWidth="300"
        MinHeight="25"
        HorizontalAlignment="Left"
        VerticalAlignment="Bottom"
        AutoHide="True"
        AutoHideDelay="3000"
        Background="Black"
        BorderBrush="Orange"
        BorderThickness="1"
        FontSize="16"
        Foreground="White"
        Icon="{Binding SnackbarIcon}"
        IsVisible="{Binding ShowSnackbar, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
        Message="{Binding SnackbarMessage}">
        <Grid VerticalAlignment="Center">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="auto" />
          </Grid.ColumnDefinitions>
          <materialDesign:PackIcon
            Grid.Column="0"
            Margin="0,0,10,0"
            VerticalAlignment="Center"
            Foreground="Orange"
            Kind="{Binding RelativeSource={RelativeSource AncestorType={x:Type controls:Snackbar}}, Path=Icon}" />
          <TextBlock
            Grid.Column="1"
            VerticalAlignment="Center"
            Text="{Binding RelativeSource={RelativeSource AncestorType={x:Type controls:Snackbar}}, Path=Message}"
            TextWrapping="Wrap" />
          <Button
            Grid.Column="2"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Click="snackbarButton_Click"
            Style="{StaticResource MaterialDesignFlatButton}">
            <Button.Content>
              <materialDesign:PackIcon
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Kind="Close" />
            </Button.Content>
          </Button>
        </Grid>
      </controls:Snackbar>
    </Grid>
    <Grid Grid.Column="0" Background="#1D212D">
      <Grid.RowDefinitions>
        <RowDefinition Height="*" />
        <RowDefinition Height="4*" />
        <RowDefinition Height="*" />
      </Grid.RowDefinitions>
      <Grid Grid.Row="0" Margin="15">
        <Image
          HorizontalAlignment="Center"
          VerticalAlignment="Center"
          Source="/Ressources/LogoDoubleG1.png" />
      </Grid>
      <Grid Grid.Row="1" Margin="0,20,0,0">
        <StackPanel Orientation="Vertical">
          <cc:IconButton
            x:Name="btnDashboard"
            ButtonText="Dashboard"
            Command="{Binding NavigateToDashboardCommand}"
            GroupName="NavigationButtons"
            IconKind="MonitorDashboard" />
          <Border BorderBrush="LightGray" BorderThickness="1" />
          <cc:IconButton
            ButtonText="Rechnungen"
            Command="{Binding NavigateToGetInvoicesCommand}"
            GroupName="NavigationButtons"
            IconKind="InvoiceList" />
          <Border BorderBrush="LightGray" BorderThickness="1" />
          <cc:IconButton
            ButtonText="Kunden"
            Command="{Binding NavigateToClientViewCommand}"
            GroupName="NavigationButtons"
            IconKind="Person" />
          <Border BorderBrush="LightGray" BorderThickness="1" />
          <cc:IconButton
            ButtonText="Artikel/Dienstleistungen"
            Command="{Binding NavigateToArticleViewCommand}"
            GroupName="NavigationButtons"
            IconKind="PackageVariantClosed" />
        </StackPanel>
      </Grid>
      <Grid Grid.Row="2">
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
          </Grid.RowDefinitions>
          <cc:IconButton
            Grid.Row="0"
            ButtonText="{Binding User.Username}"
            IconKind="User" GroupName="NavigationButtons"/>
          <cc:IconButton
            Grid.Row="1"
            ButtonText="Einstellungen"
            Command="{Binding NavigateToSettingsViewCommand}"
            GroupName="NavigationButtons"
            IconKind="Settings" />
          <cc:LinkButton
            Grid.Row="2"
            ButtonText="Hilfe"
            IconKind="QuestionMark" />
        </Grid>
      </Grid>
    </Grid>
  </Grid>
</Window>
