<Window
  x:Class="CYR.Login.LoginView"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:CYR.Login"
  xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  Title="LoginView"
  Width="900"
  Height="700"
  d:DataContext="{d:DesignInstance Type=local:LoginViewModel,
                                   IsDesignTimeCreatable=False}"
  AllowsTransparency="True"
  Background="Transparent"
  FontFamily="{DynamicResource MaterialDesignFont}"
  FontSize="18"
  Loaded="Window_Loaded"
  WindowStartupLocation="CenterScreen"
  WindowStyle="None"
  mc:Ignorable="d">
  <Window.Resources>
    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />

  </Window.Resources>
  <Window.Visibility>
    <Binding
      Converter="{StaticResource BooleanToVisibilityConverter}"
      Mode="TwoWay"
      Path="IsViewVisible" />
  </Window.Visibility>
  <Border x:Name="borderTop" Background="#fcfcfc">
    <Border.InputBindings>
      <KeyBinding
        Key="Enter"
        Command="{Binding LoginCommand}"
        CommandParameter="{Binding}" />
    </Border.InputBindings>
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="35" />
        <RowDefinition Height="*" />
      </Grid.RowDefinitions>
      <Grid
        Grid.Row="0"
        Grid.Column="0"
        Grid.ColumnSpan="2">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="60" />
        </Grid.ColumnDefinitions>
        <Border
          x:Name="bTop"
          Background="Transparent"
          BorderBrush="Transparent"
          CornerRadius="20"
          PreviewMouseLeftButtonDown="bTop_PreviewMouseLeftButtonDown" />
        <materialDesign:PackIcon
          Grid.Column="1"
          HorizontalAlignment="Center"
          VerticalAlignment="Center"
          Kind="Close"
          Opacity=".5" />
        <Border
          x:Name="bButton"
          Grid.Column="1"
          CornerRadius="20">
          <Button x:Name="btnExit" Click="btnExit_Click">
            <Button.Style>
              <Style BasedOn="{StaticResource MaterialDesignFlatButton}" TargetType="Button">
                <Style.Triggers>
                  <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="Transparent" />
                    <Setter Property="Opacity" Value="0" />
                  </Trigger>
                </Style.Triggers>
              </Style>
            </Button.Style>
          </Button>
        </Border>
      </Grid>
      <Grid
        Grid.Row="0"
        Grid.RowSpan="2"
        Grid.ColumnSpan="2">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="0">
          <Grid.RowDefinitions>
            <RowDefinition Height="100" />
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
          </Grid.RowDefinitions>
          <Path
            Grid.Row="0"
            Grid.RowSpan="4"
            Stretch="Fill">
            <Path.Fill>
              <LinearGradientBrush StartPoint="1 1" EndPoint="1 0">
                <GradientStop Offset="0.0" Color="#303030" />
                <GradientStop Offset="1" Color="#1d212d" />
              </LinearGradientBrush>
            </Path.Fill>
            <Path.Data>
              <PathGeometry>
                <PathFigure IsClosed="True" StartPoint="0,0">
                  <LineSegment Point="0.6,0" />
                  <BezierSegment
                    Point1="0.85,0"
                    Point2="1.0,0.2"
                    Point3="0.95,0.4" />
                  <BezierSegment
                    Point1="0.9,0.6"
                    Point2="0.85,0.8"
                    Point3="0.6,1.0" />
                  <LineSegment Point="0,1" />
                  <LineSegment Point="0,0" />
                </PathFigure>
              </PathGeometry>
            </Path.Data>
          </Path>
          <StackPanel
            Grid.Row="1"
            Margin="0,40,200,0"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Image
              Grid.Row="1"
              Width="60"
              Source="/Ressources/LogoDoubleG1.png" />
            <TextBlock
              Margin="10,0,0,0"
              VerticalAlignment="Center"
              Foreground="white"
              Text="CYR" />
          </StackPanel>

          <StackPanel Grid.Row="2" HorizontalAlignment="Center">
            <TextBlock
              FontSize="21"
              Foreground="white"
              Text="Erstelle deine Rechnung mit CYR!" />
          </StackPanel>
        </Grid>
      </Grid>
      <Grid Grid.Row="1" Grid.Column="1">
        <Grid.RowDefinitions>
          <RowDefinition Height="70" />
          <RowDefinition Height="*" />
          <RowDefinition Height="70" />
        </Grid.RowDefinitions>
        <Grid Grid.Row="1" Margin="20,0,20,0">
          <Grid>
            <Grid.RowDefinitions>
              <RowDefinition Height="auto" />
              <RowDefinition Height="auto" />
              <RowDefinition Height="auto" />
            </Grid.RowDefinitions>
            <TextBlock
              Grid.Row="0"
              Margin="0,20,0,0"
              HorizontalAlignment="Center"
              Foreground="#aeadb2"
              Text="Jetzt anmelden, um zu starten." />
            <StackPanel Grid.Row="1" Margin="20,100,20,0">
              <TextBox
                x:Name="txtusername"
                Grid.Column="1"
                Margin="0,0,0,10"
                materialDesign:HintAssist.Foreground="Black"
                materialDesign:HintAssist.Hint="Benutzername"
                materialDesign:HintAssist.IsFloating="False"
                Background="#f3f6fb"
                BorderThickness="0.5"
                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}" />
              <PasswordBox
                Grid.Column="1"
                Margin="0,0,0,10"
                materialDesign:HintAssist.Foreground="Black"
                materialDesign:HintAssist.Hint="Passwort"
                materialDesign:HintAssist.IsFloating="False"
                materialDesign:PasswordBoxAssist.Password="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                Background="#f3f6fb"
                BorderThickness="0.5"
                Style="{StaticResource MaterialDesignOutlinedPasswordBox}" />
              <CheckBox
                Content="Angemeldet bleiben"
                FontSize="15"
                Foreground="#aeadb2" />
              <TextBlock
                Margin="0,10,0,0"
                FontSize="13"
                Foreground="Red"
                Text="{Binding LoginError}" />
            </StackPanel>
            <Grid Grid.Row="2">
              <Button
                Height="40"
                Margin="20,100,20,0"
                Command="{Binding LoginCommand}"
                CommandParameter="{Binding}"
                Content="Anmelden" />
            </Grid>
          </Grid>
        </Grid>
      </Grid>
    </Grid>
  </Border>
</Window>
